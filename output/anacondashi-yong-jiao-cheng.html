<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="[章峰]" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="["生信", "anaconda", "conda", "r-base", "RNA-seq"], anaconda, " />

<meta property="og:title" content="&#34;Anaconda使用教程&#34;  - &#34;&#34; "/>
<meta property="og:url" content="/anacondashi-yong-jiao-cheng.html" />
<meta property="og:description" content="&#34;较为全面地介绍Anaconda的使用方法，并以RNA-seq环境和R环境的安装进行举例&#34;" />
<meta property="og:site_name" content="test_site" />
<meta property="og:article:author" content="[章峰]" />
<meta property="og:article:published_time" content="2021-10-21T00:00:00+02:00" />
<meta name="twitter:title" content="&#34;Anaconda使用教程&#34;  - &#34;&#34; ">
<meta name="twitter:description" content="&#34;较为全面地介绍Anaconda的使用方法，并以RNA-seq环境和R环境的安装进行举例&#34;">

        <title>&#34;Anaconda使用教程&#34;  - &#34;&#34;  · test_site
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/theme/css/elegant.prod.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/custom.css" media="screen">



    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/"><span class=site-name>test_site</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       "/"
                                    >Home</a>
                                </li>
                                <li ><a href="/categories.html">Categories</a></li>
                                <li ><a href="/tags.html">Tags</a></li>
                                <li ><a href="/archives.html">Archives</a></li>
                                <li><form class="navbar-search" action="/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="/anacondashi-yong-jiao-cheng.html">
                "Anaconda使用教程"
                <small class="subtitle">
                    ""
                </small>
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <h1>Featured image</h1>
<h1>To use, add an image named <code>featured.jpg/png</code> to your page's folder.</h1>
<h1>Focal points: Smart, Center, TopLeft, Top, TopRight, Left, Right, BottomLeft, Bottom, BottomRight.</h1>
<p>image:
  caption: ""
  focal_point: "Smart"
  preview_only: false</p>
<hr>
<p>{{&lt; toc  &gt;}}</p>
<h1>Anaconda使用教程</h1>
<h2>参考资料</h2>
<p><a href="https://zhuanlan.zhihu.com/p/32925500">中文博客推荐</a><br>
<a href="https://docs.anaconda.com/anaconda/navigator/tutorials/index.html">anaconda 官网教程</a></p>
<h2>一、什么是Anaconda？</h2>
<h3>1. 简介</h3>
<p>Anaconda（官方网站）就是可以便捷获取包且对包能够进行管理，同时对环境可以统一管理的发行版本。Anaconda包含了conda、Python在内的超过180个科学包及其依赖项。</p>
<p>Anaconda可以创建不同的虚拟环境，以实现环境间的隔离，这样在不同环境中可以使用软件或依赖库的不同版本，避免不同版本间的冲突。</p>
<h3>2. 特点</h3>
<p>Anaconda具有如下特点：
- 开源
- 安装过程简单
- 高性能使用Python和R语言
- 免费的社区支持
- 适用于多平台：Windows, macOS, Linux</p>
<p>如果日常工作或学习并不必要使用1,000多个库，那么可以考虑安装<a href="https://docs.conda.io/en/latest/miniconda.html">Miniconda</a>，这里不过多介绍Miniconda的安装及使用。</p>
<h2>二、安装及镜像</h2>
<h3>1. 下载Anaconda</h3>
<p>Anaconda官网下载地址：  https://www.anaconda.com/products/individual#linux<br>
Anaconda中国镜像下载： https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/<br>
miniconda下载地址： https://docs.conda.io/en/latest/miniconda.html#latest-miniconda-installer-links  </p>
<h3>2. 安装Anaconda</h3>
<div class="highlight"><pre><span></span><code>bash Anaconda3-2021.05-Linux-x86_64.sh  
<span class="gh">#</span> specify a different location below  
&gt;&gt;&gt; /home/zhangfeng/bin/anaconda3  
</code></pre></div>

<p>注意指定安装目录时，不能进行修改。如果有错字，使用删除键也不行。    </p>
<h3>3. 设置镜像</h3>
<p>显示镜像：<code>conda config --show-source</code> </p>
<p>默认有以下载通道：</p>
<div class="highlight"><pre><span></span><code>channels:
  <span class="k">-</span> conda-forge
  <span class="k">-</span> bioconda
  <span class="k">-</span> r
  <span class="k">-</span> defaults
show_channel_urls: true
</code></pre></div>

<p>即从国外的服务器下载不同软件包。<code>- r</code>表示通过r通道下载软件，即指从 https://conda.anaconda.org/r/网站下载<br>
conda-forge是指从 https://conda.anaconda.org/conda-forge/网站下载  </p>
<p>默认下载网址为<a href="https://conda.anaconda.org/">Anaconda的官方服务器</a>，安装包时下载速度很慢，所以设置国内镜像很重要。清华大学的<a href="https://mirror.tuna.tsinghua.edu.cn/help/anaconda/">TUNA镜像源</a>有Anaconda仓库的镜像，我们将其加入conda的配置即可，即修改<code>~/.condarc</code>文件内容。conda会从.condarc中下载通道按顺序搜索软件包。<br>
defaults ：默认下载通道。如果不指定通道则从defaults通道下载。<br>
channel_alias：修改指向defaults的网址，我们可以用 https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/镜像代替。</p>
<p>修改后的.condarc文件：</p>
<div class="highlight"><pre><span></span><code><span class="n">channel_alias</span><span class="o">:</span><span class="w"> </span><span class="n">https</span><span class="o">://</span><span class="n">mirrors</span><span class="o">.</span><span class="na">tuna</span><span class="o">.</span><span class="na">tsinghua</span><span class="o">.</span><span class="na">edu</span><span class="o">.</span><span class="na">cn</span><span class="sr">/anaconda/</span><span class="n">cloud</span>
<span class="n">channels</span><span class="o">:</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">https</span><span class="o">://</span><span class="n">mirrors</span><span class="o">.</span><span class="na">tuna</span><span class="o">.</span><span class="na">tsinghua</span><span class="o">.</span><span class="na">edu</span><span class="o">.</span><span class="na">cn</span><span class="sr">/anaconda/pkgs/</span><span class="n">main</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">https</span><span class="o">://</span><span class="n">mirrors</span><span class="o">.</span><span class="na">tuna</span><span class="o">.</span><span class="na">tsinghua</span><span class="o">.</span><span class="na">edu</span><span class="o">.</span><span class="na">cn</span><span class="sr">/anaconda/pkgs/</span><span class="n">free</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">https</span><span class="o">://</span><span class="n">mirrors</span><span class="o">.</span><span class="na">tuna</span><span class="o">.</span><span class="na">tsinghua</span><span class="o">.</span><span class="na">edu</span><span class="o">.</span><span class="na">cn</span><span class="sr">/anaconda/pkgs/</span><span class="n">r</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">https</span><span class="o">://</span><span class="n">mirrors</span><span class="o">.</span><span class="na">tuna</span><span class="o">.</span><span class="na">tsinghua</span><span class="o">.</span><span class="na">edu</span><span class="o">.</span><span class="na">cn</span><span class="sr">/anaconda/pkgs/</span><span class="n">pro</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">https</span><span class="o">://</span><span class="n">mirrors</span><span class="o">.</span><span class="na">tuna</span><span class="o">.</span><span class="na">tsinghua</span><span class="o">.</span><span class="na">edu</span><span class="o">.</span><span class="na">cn</span><span class="sr">/anaconda/pkgs/</span><span class="n">msys2</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">conda</span><span class="o">-</span><span class="n">forge</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">bioconda</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">defaults</span>
<span class="n">ssl_verify</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="n">show_channel_urls</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="n">channel_priority</span><span class="o">:</span><span class="w"> </span><span class="n">disabled</span>
</code></pre></div>

<p>conda-forge和bioconda通道里的软件包比较新，推荐使用。</p>
<h3>4. 安装软件包注意事项</h3>
<p>安装一个包不成功的话，可能的原因有：
1. 在本平台（windows）上没有这个包，或没有相应的硬件支持。
2. 有依赖的包没有安装，可以网上查询一下可能的依赖包，先安装这个依赖包。
3. 如果之前安装好的，但由于其它软件的变动，可能导致无法使用。可以先卸载后再重新安装。
4. 有些包在conda和pip中的版本是不兼容的，因此应该尽量用conda来安装。如果在conda中没有这个版本，再用pip来安装。</p>
<h2>三、conda常用命令</h2>
<h3>常用命令</h3>
<div class="highlight"><pre><span></span><code><span class="n">conda</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">learn</span><span class="w"> </span><span class="n">python</span><span class="o">=</span><span class="mi">3</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="err">创建一个名为</span><span class="n">learn的环境并指定python版本为3</span><span class="p">(</span><span class="err">最新版本</span><span class="p">)</span>
<span class="n">conda</span><span class="w"> </span><span class="n">activate</span><span class="w"> </span><span class="n">learn</span><span class="w"> </span><span class="o">//</span><span class="err">激活</span><span class="n">learn环境</span>
<span class="n">conda</span><span class="w"> </span><span class="n">env</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="err">列出</span><span class="n">conda管理的所有环境</span>
<span class="n">conda</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="err">列出当前环境的所有包</span>
<span class="n">conda</span><span class="w"> </span><span class="n">search</span><span class="w"> </span><span class="o">--</span><span class="n">full</span><span class="o">-</span><span class="n">name</span><span class="w"> </span><span class="o">&lt;</span><span class="n">package_full_name</span><span class="o">&gt;</span><span class="w"> </span><span class="o">//</span><span class="err">搜索包</span>
<span class="n">conda</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="o">//</span><span class="err">安装</span><span class="n">requests包</span>
<span class="n">conda</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">conda</span><span class="o">=</span><span class="mf">4.6</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="err">将</span><span class="n">conda降回原来版本</span>
<span class="n">conda</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="o">//</span><span class="err">卸载</span><span class="n">requets包</span>
<span class="n">conda</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">learn</span><span class="w"> </span><span class="o">--</span><span class="n">all</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="err">删除</span><span class="n">learn环境及下属所有包</span>
<span class="n">conda</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="err">更新</span><span class="n">requests包</span>
<span class="n">conda</span><span class="w"> </span><span class="n">env</span><span class="w"> </span><span class="k">export</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">environment</span><span class="o">.</span><span class="n">yaml</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="err">导出当前环境的包信息</span>
<span class="n">conda</span><span class="w"> </span><span class="n">env</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="n">environment</span><span class="o">.</span><span class="n">yaml</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="err">用配置文件创建新的虚拟环境</span>
</code></pre></div>

<h3>1. 验证conda已被安装</h3>
<div class="highlight"><pre><span></span><code>conda --version
</code></pre></div>

<p>终端上将会以 conda 版本号的形式显示当前安装conda的版本号。如： conda 3.11.0</p>
<h3>2. 更新conda至最新版本</h3>
<div class="highlight"><pre><span></span><code>conda update anaconda #更新anaconda  
conda update conda
conda update --all #更新所有包  
</code></pre></div>

<p>执行命令后，conda将会对版本进行比较并列出可以升级的版本。同时，也会告知用户其他相关包也会升级到相应版本。当较新的版本可以用于升级时，终端会显示 Proceed ([y]/n)? ，此时输入 y 即可进行升级。  </p>
<h3>3. 查看conda帮助信息</h3>
<div class="highlight"><pre><span></span><code>conda --help
conda -h
</code></pre></div>

<h3>4. 卸载conda</h3>
<div class="highlight"><pre><span></span><code>rm -rf ~/anaconda3
</code></pre></div>

<p>直接删除Anaconda的安装目录即可。</p>
<h3>5. 配置</h3>
<p>anaconda默认会开机启动，为了避免这种情况，我们需要在<code>~/.condarc</code>文件中进行设置。</p>
<div class="highlight"><pre><span></span><code>conda config --set auto_activate_base false
</code></pre></div>

<h3>6. 路径及重命名</h3>
<div class="highlight"><pre><span></span><code>conda env list #可列出conda管理的所有环境
</code></pre></div>

<p>conda不能对环境进行重命名，如果直接将环境所在目录重命名的话：</p>
<div class="highlight"><pre><span></span><code>mv /home/zhangfeng/bin/anaconda3/envs/test /home/zhangfeng/bin/anaconda3/envs/test1 #
</code></pre></div>

<p>使用软件会报错，因为会用到以前的test下的库。只能删除这个环境，重新建一个新环境。</p>
<h2>四、管理环境</h2>
<h3>1. 创建新环境</h3>
<div class="highlight"><pre><span></span><code><span class="nx">conda</span><span class="w"> </span><span class="nx">create</span><span class="w"> </span><span class="o">--</span><span class="nx">name</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">env_name</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">package_names</span><span class="p">&gt;</span>
</code></pre></div>

<ul>
<li><env_name> 即创建的环境名。建议以英文命名，且不加空格，名称两边不加尖括号“&lt;&gt;”。</li>
<li><package_names> 即安装在环境中的包名。名称两边不加尖括号“&lt;&gt;”。</li>
<li>如果要安装指定的版本号，则只需要在包名后面以 = 和版本号的形式执行。如： <code>conda create --name python2 python=2.7</code> ，即创建一个名为“python2”的环境，环境中安装版本为2.7的python。</li>
<li>如果要在新创建的环境中创建多个包，则直接在 <package_names> 后以空格隔开，添加多个包名即可。如： <code>conda create -n python3 python=3.5 numpy pandas</code>，即创建一个名为“python3”的环境，环境中安装版本为3.5的python，同时也安装了numpy和pandas。</li>
<li>--name 同样可以替换为 -n 。</li>
<li>默认情况下，新创建的环境将会被保存在 /Users/<user_name>/anaconda3/env 目录下，其中<user_name> 为当前用户的用户名。</li>
</ul>
<h3>2. 切换环境</h3>
<div class="highlight"><pre><span></span><code>conda activate &lt;env_name&gt;
</code></pre></div>

<ul>
<li>如果创建环境后安装Python时没有指定Python的版本，那么将会安装与Anaconda版本相同的Python版本，即如果安装Anaconda第2版，则会自动安装Python 2.x；如果安装Anaconda第3版，则会自动安装Python 3.x。</li>
<li>当成功切换环境之后，在该行行首将以“(env_name)”或“[env_name]”开头。其中，“env_name”为切换到的环境名。如：在执行<code>conda activate python2</code>，即切换至名为“python2”的环境，则行首将会以(python2)开头。</li>
</ul>
<h3>3. 退出环境</h3>
<div class="highlight"><pre><span></span><code>source deactivate
</code></pre></div>

<ul>
<li>当执行退出当前环境后，原本行首以“(env_name)”或“[env_name]”开头的字符将不再显示。</li>
</ul>
<h3>4. 显示已创建环境</h3>
<div class="highlight"><pre><span></span><code>conda info --envs
conda info -e
conda env list
</code></pre></div>

<p>结果中星号“*”所在行即为当前所在环境。Linux系统中默认创建的环境名为“base”。</p>
<h3>5. 复制环境</h3>
<div class="highlight"><pre><span></span><code>conda create --name &lt;new_env_name&gt; --clone &lt;copied_env_name&gt;
</code></pre></div>

<ul>
<li><copied_env_name>即为被复制/克隆环境名。环境名两边不加尖括号“&lt;&gt;”。</li>
<li><new_env_name>即为复制之后新环境的名称。环境名两边不加尖括号“&lt;&gt;”。</li>
<li><code>conda create --name py2 --clone python2</code>，即为克隆名为“python2”的环境，克隆后的新环境名为“py2”。此时，环境中将同时存在“python2”和“py2”环境，且两个环境的配置相同。</li>
</ul>
<h3>6. 删除环境</h3>
<div class="highlight"><pre><span></span><code>conda remove --name &lt;env_name&gt; --all
</code></pre></div>

<ul>
<li><env_name> 为被删除环境的名称。环境名两边不加尖括号“&lt;&gt;”。</li>
</ul>
<h2>五、管理软件包</h2>
<h3>1. 查找可供安装的包版本</h3>
<h4>1.1 精确查找</h4>
<div class="highlight"><pre><span></span><code><span class="nx">conda</span><span class="w"> </span><span class="nx">search</span><span class="w"> </span><span class="o">--</span><span class="nx">full</span><span class="o">-</span><span class="nx">name</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">package_full_name</span><span class="p">&gt;</span>
</code></pre></div>

<ul>
<li>--full-name 为精确查找的参数。</li>
<li><package_full_name>是被查找包的全名。包名两边不加尖括号“&lt;&gt;”。</li>
<li>例如： <code>conda search --full-name python</code> 即查找全名为“python”的包有哪些版本可供安装。</li>
</ul>
<h4>1.2 模糊查找</h4>
<div class="highlight"><pre><span></span><code>conda search &lt;text&gt;
</code></pre></div>

<ul>
<li><text> 是查找含有此字段的包名。此字段两边不加尖括号“&lt;&gt;”。</li>
<li>例如： <code>conda search py</code> 即查找含有“py”字段的包，有哪些版本可供安装。</li>
</ul>
<h3>2. 获取当前环境中已安装的包信息</h3>
<div class="highlight"><pre><span></span><code>conda list
</code></pre></div>

<p>执行上述命令后将在终端显示当前环境已安装包的包名及其版本号。</p>
<h3>3. 安装包</h3>
<h4>3.1 在指定环境中安装包</h4>
<div class="highlight"><pre><span></span><code><span class="nx">conda</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="o">--</span><span class="nx">name</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">env_name</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">package_name</span><span class="p">&gt;</span><span class="w">  </span>
</code></pre></div>

<ul>
<li><env_name> 即将包安装的指定环境名。环境名两边不加尖括号“&lt;&gt;”。</li>
<li><package_name> 即要安装的包名。包名两边不加尖括号“&lt;&gt;”。</li>
<li>例如： <code>conda install --name python2 pandas</code> 即在名为“python2”的环境中安装pandas包。</li>
</ul>
<h4>3.2 在当前环境中安装包</h4>
<div class="highlight"><pre><span></span><code><span class="nx">conda</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">package_name</span><span class="p">&gt;</span>
</code></pre></div>

<ul>
<li><package_name> 即要安装的包名。包名两边不加尖括号“&lt;&gt;”。</li>
<li>执行命令后在当前环境中安装包。如<code>conda install gdal=2.4.3</code></li>
</ul>
<h4>3.3 使用pip安装包</h4>
<div class="highlight"><pre><span></span><code>pip3 install see
</code></pre></div>

<p>当使用 conda install 无法进行安装时，可以使用pip进行安装。例如：see包。</p>
<p>pip 用法：
- 安裝：pip install PackageName
- 更新：pip install -U PackageName 
- 移除：pip uninstall PackageName
- 搜索：pip search PackageName
- 帮助：pip help
- 从github安装: pip install git+https://github.com/jkbr/httpie.git</p>
<h4>3.4 从http://Anaconda.org安装包</h4>
<p>当使用 conda install 无法进行安装时，可以考虑从 http://Anaconda.org 中获取安装包的命令，并进行安装。</p>
<ol>
<li>在浏览器中输入： http://anaconda.org</li>
<li>在SEARCH PACKAGES搜索框中输入要安装的包名，然后点击右边“放大镜”标志进行检索。</li>
<li>搜索结果中有数以千计的包可供选择，此时点击“Downloads”可根据下载量进行排序，最上面的为下载最多的包。</li>
<li>选择满足需求的包或下载量最多的包，点击包名。</li>
<li>“To install this package with conda run one of the following:”下方有安装命令，选择其中一个并粘贴在终端中执行。</li>
<li>完成安装。</li>
</ol>
<h3>4. 卸载软件包</h3>
<h4>4.1 卸载其它环境中的包</h4>
<div class="highlight"><pre><span></span><code><span class="nx">conda</span><span class="w"> </span><span class="nx">remove</span><span class="w"> </span><span class="o">--</span><span class="nx">name</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">env_name</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">package_name</span><span class="p">&gt;</span>
</code></pre></div>

<ul>
<li><env_name> 即卸载包所在指定环境的名称。环境名两边不加尖括号“&lt;&gt;”。</li>
<li><package_name>即要卸载包的名称。包名两边不加尖括号“&lt;&gt;”。</li>
<li>例如：<code>conda remove --name python2 pandas</code> 即卸载名为“python2”中的pandas包。</li>
</ul>
<h4>4.2 卸载当前环境中的包</h4>
<div class="highlight"><pre><span></span><code><span class="nx">conda</span><span class="w"> </span><span class="nx">remove</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">package_name</span><span class="p">&gt;</span>
</code></pre></div>

<ul>
<li><package_name>即要卸载包的名称。包名两边不加尖括号“&lt;&gt;”。</li>
<li>执行命令后即在当前环境中卸载指定包。</li>
<li>例如： <code>conda remove pandas</code> 即在当前环境中卸载pandas包。</li>
</ul>
<h3>5. 更新包</h3>
<h4>5.1 更新所有包</h4>
<div class="highlight"><pre><span></span><code>conda update --all
conda upgrade --all
</code></pre></div>

<p>建议：在安装Anaconda之后执行上述命令更新Anaconda中的所有包至最新版本，便于使用。</p>
<h4>5.2 更新指定包</h4>
<div class="highlight"><pre><span></span><code><span class="nx">conda</span><span class="w"> </span><span class="nx">update</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">package_name</span><span class="p">&gt;</span>
<span class="nx">conda</span><span class="w"> </span><span class="nx">upgrade</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">package_name</span><span class="p">&gt;</span>
</code></pre></div>

<ul>
<li><package_name>为指定更新的包名。包名两边不加尖括号“&lt;&gt;”。</li>
<li>更新多个指定包，则包名以空格隔开，向后排列。</li>
<li>如： <code>conda update pandas numpy matplotlib</code> 即更新pandas、numpy、matplotlib包。</li>
</ul>
<hr>
<h2>六、debug</h2>
<ul>
<li>conda install 一直在Solving environment卡死</li>
<li>可能是通道的原因，换一个通道 <code>conda update conda -c conda-forge</code>试试.</li>
<li>删除安装缓存。<code>conda info</code>找到缓存地址，在package cache行。然后进行删除：</li>
</ul>
<div class="highlight"><pre><span></span><code>rm /home/disk2/xs/anaconda3/pkgs
rm /home/disk2/xs/.conda/pkgs
</code></pre></div>

<h2>七、案例</h2>
<h3>创建R环境并安装R软件及R包</h3>
<div class="highlight"><pre><span></span><code><span class="nx">conda</span><span class="w"> </span><span class="nx">create</span><span class="w"> </span><span class="o">-</span><span class="nx">n</span><span class="w"> </span><span class="nx">R</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="nx">创建一个R的环境</span>
<span class="nx">conda</span><span class="w"> </span><span class="nx">activate</span><span class="w"> </span><span class="nx">R</span><span class="w"> </span><span class="err">#</span><span class="nx">激活R环境</span>
<span class="nx">conda</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="o">-</span><span class="nx">c</span><span class="w"> </span><span class="nx">conda</span><span class="o">-</span><span class="nx">forge</span><span class="w"> </span><span class="nx">r</span><span class="o">-</span><span class="kd">base</span><span class="w"> </span><span class="err">#</span><span class="nx">不能同时加</span><span class="w"> </span><span class="nx">r</span><span class="o">-</span><span class="nx">essentials</span><span class="err">，</span><span class="nx">会导致环境冲突</span>
<span class="nx">conda</span><span class="w"> </span><span class="nx">update</span><span class="w"> </span><span class="o">-</span><span class="nx">c</span><span class="w"> </span><span class="nx">conda</span><span class="o">-</span><span class="nx">forge</span><span class="w"> </span><span class="nx">r</span><span class="o">-</span><span class="kd">base</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="nx">如果没有安装最新版本</span><span class="err">，</span><span class="nx">用此命令尝试更新</span>
<span class="nx">conda</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="o">-</span><span class="nx">c</span><span class="w"> </span><span class="nx">conda</span><span class="o">-</span><span class="nx">forge</span><span class="w"> </span><span class="nx">r</span><span class="o">-</span><span class="nx">packagename</span><span class="w"> </span><span class="err">#</span><span class="nx">安装r包</span>
</code></pre></div>

<ul>
<li>注意R包的名称前要加<code>r-</code>，如需要安装ggplot2，命令为<code>conda install -c conda-forge r-ggplot2</code></li>
<li>有些r包有时就是安装不了。这时候可以直接进入R命令行，直接在R里面装。  </li>
</ul>
<h3>创建rnaseq环境</h3>
<div class="highlight"><pre><span></span><code><span class="n">conda</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">rnaseq</span><span class="w"> </span><span class="n">python</span><span class="o">=</span><span class="mi">3</span>
<span class="n">conda</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">bioconda</span><span class="w"> </span><span class="n">fastqc</span><span class="w"> </span><span class="n">multiqc</span><span class="w"> </span><span class="n">trim</span><span class="o">-</span><span class="n">galore</span><span class="w"> </span>
<span class="n">conda</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">bioconda</span><span class="w"> </span><span class="n">samtools</span><span class="w"> </span><span class="n">stringtie</span><span class="w"> </span><span class="n">STAR</span>

<span class="c1"># 验证相关软件是否安装</span>
<span class="n">fastqc</span><span class="w"> </span><span class="o">--</span><span class="n">version</span>
<span class="n">multiqc</span><span class="w"> </span><span class="o">--</span><span class="n">version</span>
<span class="n">trim_galore</span><span class="w"> </span><span class="o">--</span><span class="n">version</span>
<span class="n">samtools</span><span class="w"> </span><span class="o">--</span><span class="n">version</span>
<span class="n">stringtie</span><span class="w"> </span><span class="o">--</span><span class="n">version</span>
<span class="n">STAR</span><span class="w"> </span><span class="o">--</span><span class="n">version</span>
</code></pre></div>


             
 
            
            
            






            <hr/>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2021-10-21T00:00:00+02:00">Oct 21, 2021</time>
            <h4>Category</h4>
            <a class="category-link" href="/categories.html#anaconda-ref">anaconda</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="/tags.html#anaconda-ref">"anaconda"
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#conda-ref">"conda"
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#r-base-ref">"r-base"
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#rna-seq-ref">"RNA-seq"]
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#sheng-xin-ref">["生信"
                    <span>1</span>
</a></li>
            </ul>
<h4>Contact</h4>
<div id="sidebar-social-link">
</div>
            





            





        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>