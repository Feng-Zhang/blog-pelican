<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="[章峰]" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="["win10", "ubuntu", "g++ install", "安装"], wsl, " />

<meta property="og:title" content="&#34; 在win10中使用ubuntu子系统WSL如何安装g++&#34;  - &#34;&#34; "/>
<meta property="og:url" content="/zh/zh/zai-win10zhong-shi-yong-ubuntuzi-xi-tong-wslru-he-an-zhuang-g.html" />
<meta property="og:description" content="&#34;windows下使用linux (WSL)系统时如何正确安装g++&#34;" />
<meta property="og:site_name" content="我的博客" />
<meta property="og:article:author" content="[章峰]" />
<meta property="og:article:published_time" content="2020-09-15T00:00:00+02:00" />
<meta name="twitter:title" content="&#34; 在win10中使用ubuntu子系统WSL如何安装g++&#34;  - &#34;&#34; ">
<meta name="twitter:description" content="&#34;windows下使用linux (WSL)系统时如何正确安装g++&#34;">

        <title>&#34; 在win10中使用ubuntu子系统WSL如何安装g++&#34;  - &#34;&#34;  · 我的博客
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/zh/theme/css/elegant.prod.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/zh/theme/css/custom.css" media="screen">



    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/zh/"><span class=site-name>我的博客</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       /zh
                                    >Home</a>
                                </li>
                                <li ><a href="/zh/categories.html">Categories</a></li>
                                <li ><a href="/zh/{lang}/tags.html">Tags</a></li>
                                <li ><a href="/zh/{lang}/archives.html">Archives</a></li>
                                <li><form class="navbar-search" action="/zh/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="/zh/zh/zai-win10zhong-shi-yong-ubuntuzi-xi-tong-wslru-he-an-zhuang-g.html">
                " 在win10中使用ubuntu子系统WSL如何安装g++"
                <small class="subtitle">
                    ""
                </small>
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <h1>Featured image</h1>
<h1>To use, add an image named <code>featured.jpg/png</code> to your page's folder.</h1>
<h1>Placement options: 1 = Full column width, 2 = Out-set, 3 = Screen-width</h1>
<h1>Focal point options: Smart, Center, TopLeft, Top, TopRight, Left, Right, BottomLeft, Bottom, BottomRight</h1>
<p>image:
  placement: 1
  caption: ''
  focal_point: "Smart"
  preview_only: false</p>
<hr>
<p>{{% toc %}}</p>
<h2>前言</h2>
<p>偷偷告诉你一个秘密，一般人我不会说的，那就是WSL实在是太好用了。</p>
<p>Windows系统是全世界用户最多的，一直以来我也是用这个系统。不过有一个缺点就是没有terminal，虽然有dos操作，不过和Linux的bash相比实在弱爆了。但是我又不想放弃windows系统，这成为我心里的一个疙瘩。</p>
<p>目前来说，主要有3种方法可以在windows下实现linux的bash操作。</p>
<ul>
<li>第1种就是安装虚拟机。也就是说在你的电脑里再安装一个系统，具体实现流程可参考<a href="https://blog.csdn.net/xm_csdn/article/details/64438178">这篇博客</a>。缺点就是比较笨重，耗内存，最不能忍的是和你的电脑并不共享文件，相当于另一个电脑。</li>
<li>第2种方法是使用docker。自己制作一个镜像，上传到docker hub上。貌似就可以随时随地使用了，如果有更新还可以自主更新。不过这个得有docker基础，学会还不是一时半会的事。</li>
<li>于是找到第3种方法使用windows subsystem for linux（WSL）。windows自带这个可选功能，可以实现bash所有操作。这个相当于在你电脑上安装了轻巧型ubuntu系统，可以直接对磁盘上的文件进行操作。</li>
</ul>
<h2>安装</h2>
<p>怎么安装这里就不细说了，网上教程一大堆。可以参考<a href="https://zhuanlan.zhihu.com/p/76032647">一直学的博客</a>，写的很详细了。</p>
<h2>使用</h2>
<p>折腾半天终于把WSL 安装好，当你兴冲冲打开ubuntu的terminal想安装一个软件时，会报下面这个错误。</p>
<div class="highlight"><pre><span></span><code><span class="nx">Reading</span><span class="w"> </span><span class="kn">package</span><span class="w"> </span><span class="nx">lists</span><span class="o">...</span><span class="w"> </span><span class="nx">Done</span>
<span class="nx">Building</span><span class="w"> </span><span class="nx">dependency</span><span class="w"> </span><span class="nx">tree</span>
<span class="nx">Reading</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="nx">information</span><span class="o">...</span><span class="w"> </span><span class="nx">Done</span>
<span class="nx">E</span><span class="p">:</span><span class="w"> </span><span class="nx">Unable</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">locate</span><span class="w"> </span><span class="kn">package</span><span class="w"> </span><span class="nx">build</span><span class="o">-</span><span class="nx">essentials</span>
</code></pre></div>

<p>不过<a href="https://zhuanlan.zhihu.com/p/76032647">一直学的博客</a>也谈到这个问题，这是因为软件源不行，得换国内的软件源。参考网上的说法，觉得中科大的软件源比较好用。于是成功按照步骤进行更换。没问题…个鬼啊，这是个巨坑。后面安装R软件包的时候会详细描述。</p>
<h3>安装R软件</h3>
<p>本人是做生信的，R软件是必不可少的工具之一。可以直接用<code>sudo apt install r-base</code>来安装，不过默认的 Ubuntu 软件源中的 R 软件包经常都是过时的，我们得从<a href="https://cran.r-project.org/">CRAN</a>软件源中安装 R。可以按下面的方式进行安装：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 01.安装必要的软件包，添加一个新的软件源：</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>dirmngr<span class="w"> </span>gnupg<span class="w"> </span>apt-transport-https<span class="w"> </span>ca-certificates<span class="w"> </span>software-properties-common
<span class="c1"># 02.将 CRAN 软件源 添加到你的系统源列表：</span>
sudo<span class="w"> </span>apt-key<span class="w"> </span>adv<span class="w"> </span>--keyserver<span class="w"> </span>keyserver.ubuntu.com<span class="w"> </span>--recv-keys<span class="w"> </span>E298A3A825C0D65DFD57CBB651716619E084DAB9
sudo<span class="w"> </span>add-apt-repository<span class="w"> </span><span class="s1">&#39;deb https://cloud.r-project.org/bin/linux/ubuntu focal-cran40/&#39;</span>

<span class="c1"># 03.输入下面的命令，安装 R：</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>r-base

<span class="c1"># 04.安装过程会持续几分钟完成。一旦完成，打印 R 的版本，验证它是否安装成功：</span>
R<span class="w"> </span>--version
</code></pre></div>

<p>如果你发现出现下面的结果，现在是2020-09月，说明R版本是官网上最新的就没问题了。</p>
<div class="highlight"><pre><span></span><code>R version 4.0.2 (2020-06-22) -- &quot;Taking Off Again&quot;
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under the terms of the
GNU General Public License versions 2 or 3.
For more information about these matters see
https://www.gnu.org/licenses/.
</code></pre></div>

<h3>安装R软件包</h3>
<p>由于运行R程序需要<code>httr</code>包，直接在bash上输入<code>R</code>打开R的交互窗口后，我们可以用下面的代码进行安装：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 由于R官网的软件包默认是放在国外服务器上的，对国内用户下载不友好，我们可以换清华的软件源。</span>
<span class="nf">options</span><span class="p">(</span><span class="n">BioC_mirror</span><span class="o">=</span><span class="s">&quot;http://mirrors.tuna.tsinghua.edu.cn/bioconductor/&quot;</span><span class="p">)</span><span class="c1">##指定BioC_mirror镜像是清华镜像</span>
<span class="nf">options</span><span class="p">(</span><span class="s">&quot;repos&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">CRAN</span><span class="o">=</span><span class="s">&quot;http://mirrors.tuna.tsinghua.edu.cn/CRAN/&quot;</span><span class="p">))</span><span class="w"> </span><span class="c1">##指定install.packages安装镜像是清华镜像</span>
<span class="nf">install.packages</span><span class="p">(</span><span class="s">&quot;httr&quot;</span><span class="p">)</span>
</code></pre></div>

<p>之后会遇到这个错误：</p>
<div class="highlight"><pre><span></span><code><span class="o">*</span><span class="w"> </span><span class="n">installing</span><span class="w"> </span><span class="o">*</span><span class="n">source</span><span class="o">*</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">sys</span><span class="err">’</span><span class="w"> </span><span class="o">...</span>
<span class="o">**</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">sys</span><span class="err">’</span><span class="w"> </span><span class="n">successfully</span><span class="w"> </span><span class="n">unpacked</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">MD5</span><span class="w"> </span><span class="n">sums</span><span class="w"> </span><span class="n">checked</span>
<span class="o">**</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">staged</span><span class="w"> </span><span class="n">installation</span>
<span class="o">**</span><span class="w"> </span><span class="n">libs</span>
<span class="n">gcc</span><span class="w"> </span><span class="o">-</span><span class="n">std</span><span class="o">=</span><span class="n">gnu99</span><span class="w"> </span><span class="o">-</span><span class="n">I</span><span class="s2">&quot;/usr/share/R/include&quot;</span><span class="w"> </span><span class="o">-</span><span class="n">DNDEBUG</span><span class="w">      </span><span class="o">-</span><span class="n">fpic</span><span class="w">  </span><span class="o">-</span><span class="n">g</span><span class="w"> </span><span class="o">-</span><span class="n">O2</span><span class="w"> </span><span class="o">-</span><span class="n">fdebug</span><span class="o">-</span><span class="n">prefix</span><span class="o">-</span><span class="n">map</span><span class="o">=/</span><span class="n">build</span><span class="o">/</span><span class="n">r</span><span class="o">-</span><span class="n">base</span><span class="o">-</span><span class="mi">5</span><span class="n">iUtQS</span><span class="o">/</span><span class="n">r</span><span class="o">-</span><span class="n">base</span><span class="o">-</span><span class="mf">4.0</span><span class="o">.</span><span class="mi">2</span><span class="o">=.</span><span class="w"> </span><span class="o">-</span><span class="n">fstack</span><span class="o">-</span><span class="n">protector</span><span class="o">-</span><span class="n">strong</span><span class="w"> </span><span class="o">-</span><span class="n">Wformat</span><span class="w"> </span><span class="o">-</span><span class="n">Werror</span><span class="o">=</span><span class="n">format</span><span class="o">-</span><span class="n">security</span><span class="w"> </span><span class="o">-</span><span class="n">Wdate</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="o">-</span><span class="n">D_FORTIFY_SOURCE</span><span class="o">=</span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="n">g</span><span class="w">  </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">exec</span><span class="o">.</span><span class="n">c</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">exec</span><span class="o">.</span><span class="n">o</span>
<span class="n">In</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">exec</span><span class="o">.</span><span class="n">c</span><span class="p">:</span><span class="mi">6</span><span class="p">:</span><span class="mi">0</span><span class="p">:</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">Rinternals</span><span class="o">.</span><span class="n">h</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mi">11</span><span class="p">:</span><span class="w"> </span><span class="n">fatal</span><span class="w"> </span><span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="n">stdio</span><span class="o">.</span><span class="n">h</span><span class="p">:</span><span class="w"> </span><span class="n">No</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">directory</span>
<span class="w"> </span><span class="c1"># include &lt;stdio.h&gt;</span>
<span class="w">           </span><span class="o">^~~~~~~~~</span>
<span class="n">compilation</span><span class="w"> </span><span class="n">terminated</span><span class="o">.</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">Makeconf</span><span class="p">:</span><span class="mi">167</span><span class="p">:</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="s1">&#39;exec.o&#39;</span><span class="w"> </span><span class="n">failed</span>
<span class="n">make</span><span class="p">:</span><span class="w"> </span><span class="o">***</span><span class="w"> </span><span class="p">[</span><span class="n">exec</span><span class="o">.</span><span class="n">o</span><span class="p">]</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="mi">1</span>
<span class="n">ERROR</span><span class="p">:</span><span class="w"> </span><span class="n">compilation</span><span class="w"> </span><span class="n">failed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">sys</span><span class="err">’</span>
<span class="o">*</span><span class="w"> </span><span class="n">removing</span><span class="w"> </span><span class="err">‘</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">zhangfeng</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">pc</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">-</span><span class="n">library</span><span class="o">/</span><span class="mf">4.0</span><span class="o">/</span><span class="n">sys</span><span class="err">’</span>
<span class="o">*</span><span class="w"> </span><span class="n">installing</span><span class="w"> </span><span class="o">*</span><span class="n">source</span><span class="o">*</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">curl</span><span class="err">’</span><span class="w"> </span><span class="o">...</span>
<span class="o">**</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">curl</span><span class="err">’</span><span class="w"> </span><span class="n">successfully</span><span class="w"> </span><span class="n">unpacked</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">MD5</span><span class="w"> </span><span class="n">sums</span><span class="w"> </span><span class="n">checked</span>
<span class="o">**</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">staged</span><span class="w"> </span><span class="n">installation</span>
<span class="n">Using</span><span class="w"> </span><span class="n">PKG_CFLAGS</span><span class="o">=</span>
<span class="n">Using</span><span class="w"> </span><span class="n">PKG_LIBS</span><span class="o">=-</span><span class="n">lcurl</span>
<span class="o">-------------------------</span><span class="w"> </span><span class="n">ANTICONF</span><span class="w"> </span><span class="n">ERROR</span><span class="w"> </span><span class="o">---------------------------</span>
<span class="n">Configuration</span><span class="w"> </span><span class="n">failed</span><span class="w"> </span><span class="n">because</span><span class="w"> </span><span class="n">libcurl</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">found</span><span class="o">.</span><span class="w"> </span><span class="n">Try</span><span class="w"> </span><span class="n">installing</span><span class="p">:</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">deb</span><span class="p">:</span><span class="w"> </span><span class="n">libcurl4</span><span class="o">-</span><span class="n">openssl</span><span class="o">-</span><span class="n">dev</span><span class="w"> </span><span class="p">(</span><span class="n">Debian</span><span class="p">,</span><span class="w"> </span><span class="n">Ubuntu</span><span class="p">,</span><span class="w"> </span><span class="n">etc</span><span class="p">)</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rpm</span><span class="p">:</span><span class="w"> </span><span class="n">libcurl</span><span class="o">-</span><span class="n">devel</span><span class="w"> </span><span class="p">(</span><span class="n">Fedora</span><span class="p">,</span><span class="w"> </span><span class="n">CentOS</span><span class="p">,</span><span class="w"> </span><span class="n">RHEL</span><span class="p">)</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">csw</span><span class="p">:</span><span class="w"> </span><span class="n">libcurl_dev</span><span class="w"> </span><span class="p">(</span><span class="n">Solaris</span><span class="p">)</span>
<span class="n">If</span><span class="w"> </span><span class="n">libcurl</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="n">installed</span><span class="p">,</span><span class="w"> </span><span class="n">check</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="s1">&#39;pkg-config&#39;</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">your</span>
<span class="n">PATH</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">PKG_CONFIG_PATH</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">libcurl</span><span class="o">.</span><span class="n">pc</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w"> </span><span class="n">If</span><span class="w"> </span><span class="n">pkg</span><span class="o">-</span><span class="n">config</span>
<span class="k">is</span><span class="w"> </span><span class="n">unavailable</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">INCLUDE_DIR</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">LIB_DIR</span><span class="w"> </span><span class="n">manually</span><span class="w"> </span><span class="n">via</span><span class="p">:</span>
<span class="n">R</span><span class="w"> </span><span class="n">CMD</span><span class="w"> </span><span class="n">INSTALL</span><span class="w"> </span><span class="o">--</span><span class="n">configure</span><span class="o">-</span><span class="n">vars</span><span class="o">=</span><span class="s1">&#39;INCLUDE_DIR=... LIB_DIR=...&#39;</span>
<span class="o">--------------------------------------------------------------------</span>
<span class="n">ERROR</span><span class="p">:</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">failed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">curl</span><span class="err">’</span>
<span class="o">*</span><span class="w"> </span><span class="n">removing</span><span class="w"> </span><span class="err">‘</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">zhangfeng</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">pc</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">-</span><span class="n">library</span><span class="o">/</span><span class="mf">4.0</span><span class="o">/</span><span class="n">curl</span><span class="err">’</span>
<span class="o">*</span><span class="w"> </span><span class="n">installing</span><span class="w"> </span><span class="o">*</span><span class="n">source</span><span class="o">*</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">jsonlite</span><span class="err">’</span><span class="w"> </span><span class="o">...</span>
<span class="o">**</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">jsonlite</span><span class="err">’</span><span class="w"> </span><span class="n">successfully</span><span class="w"> </span><span class="n">unpacked</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">MD5</span><span class="w"> </span><span class="n">sums</span><span class="w"> </span><span class="n">checked</span>
<span class="o">**</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">staged</span><span class="w"> </span><span class="n">installation</span>
<span class="o">**</span><span class="w"> </span><span class="n">libs</span>
<span class="n">gcc</span><span class="w"> </span><span class="o">-</span><span class="n">std</span><span class="o">=</span><span class="n">gnu99</span><span class="w"> </span><span class="o">-</span><span class="n">I</span><span class="s2">&quot;/usr/share/R/include&quot;</span><span class="w"> </span><span class="o">-</span><span class="n">DNDEBUG</span><span class="w"> </span><span class="o">-</span><span class="n">Iyajl</span><span class="o">/</span><span class="n">api</span><span class="w">    </span><span class="o">-</span><span class="n">fvisibility</span><span class="o">=</span><span class="n">hidden</span><span class="w">  </span><span class="o">-</span><span class="n">fpic</span><span class="w">  </span><span class="o">-</span><span class="n">g</span><span class="w"> </span><span class="o">-</span><span class="n">O2</span><span class="w"> </span><span class="o">-</span><span class="n">fdebug</span><span class="o">-</span><span class="n">prefix</span><span class="o">-</span><span class="n">map</span><span class="o">=/</span><span class="n">build</span><span class="o">/</span><span class="n">r</span><span class="o">-</span><span class="n">base</span><span class="o">-</span><span class="mi">5</span><span class="n">iUtQS</span><span class="o">/</span><span class="n">r</span><span class="o">-</span><span class="n">base</span><span class="o">-</span><span class="mf">4.0</span><span class="o">.</span><span class="mi">2</span><span class="o">=.</span><span class="w"> </span><span class="o">-</span><span class="n">fstack</span><span class="o">-</span><span class="n">protector</span><span class="o">-</span><span class="n">strong</span><span class="w"> </span><span class="o">-</span><span class="n">Wformat</span><span class="w"> </span><span class="o">-</span><span class="n">Werror</span><span class="o">=</span><span class="n">format</span><span class="o">-</span><span class="n">security</span><span class="w"> </span><span class="o">-</span><span class="n">Wdate</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="o">-</span><span class="n">D_FORTIFY_SOURCE</span><span class="o">=</span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="n">g</span><span class="w">  </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">base64</span><span class="o">.</span><span class="n">c</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">base64</span><span class="o">.</span><span class="n">o</span>
<span class="n">base64</span><span class="o">.</span><span class="n">c</span><span class="p">:</span><span class="mi">6</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="w"> </span><span class="n">fatal</span><span class="w"> </span><span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="n">stdlib</span><span class="o">.</span><span class="n">h</span><span class="p">:</span><span class="w"> </span><span class="n">No</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">directory</span>
<span class="w"> </span><span class="c1">#include &lt;stdlib.h&gt;</span>
<span class="w">          </span><span class="o">^~~~~~~~~~</span>
<span class="n">compilation</span><span class="w"> </span><span class="n">terminated</span><span class="o">.</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">Makeconf</span><span class="p">:</span><span class="mi">167</span><span class="p">:</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="s1">&#39;base64.o&#39;</span><span class="w"> </span><span class="n">failed</span>
<span class="n">make</span><span class="p">:</span><span class="w"> </span><span class="o">***</span><span class="w"> </span><span class="p">[</span><span class="n">base64</span><span class="o">.</span><span class="n">o</span><span class="p">]</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="mi">1</span>
<span class="n">ERROR</span><span class="p">:</span><span class="w"> </span><span class="n">compilation</span><span class="w"> </span><span class="n">failed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">jsonlite</span><span class="err">’</span>
<span class="o">*</span><span class="w"> </span><span class="n">removing</span><span class="w"> </span><span class="err">‘</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">zhangfeng</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">pc</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">-</span><span class="n">library</span><span class="o">/</span><span class="mf">4.0</span><span class="o">/</span><span class="n">jsonlite</span><span class="err">’</span>
<span class="o">*</span><span class="w"> </span><span class="n">installing</span><span class="w"> </span><span class="o">*</span><span class="n">source</span><span class="o">*</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">mime</span><span class="err">’</span><span class="w"> </span><span class="o">...</span>
<span class="o">**</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">mime</span><span class="err">’</span><span class="w"> </span><span class="n">successfully</span><span class="w"> </span><span class="n">unpacked</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">MD5</span><span class="w"> </span><span class="n">sums</span><span class="w"> </span><span class="n">checked</span>
<span class="o">**</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">staged</span><span class="w"> </span><span class="n">installation</span>
<span class="o">**</span><span class="w"> </span><span class="n">libs</span>
<span class="n">gcc</span><span class="w"> </span><span class="o">-</span><span class="n">std</span><span class="o">=</span><span class="n">gnu99</span><span class="w"> </span><span class="o">-</span><span class="n">I</span><span class="s2">&quot;/usr/share/R/include&quot;</span><span class="w"> </span><span class="o">-</span><span class="n">DNDEBUG</span><span class="w">      </span><span class="o">-</span><span class="n">fpic</span><span class="w">  </span><span class="o">-</span><span class="n">g</span><span class="w"> </span><span class="o">-</span><span class="n">O2</span><span class="w"> </span><span class="o">-</span><span class="n">fdebug</span><span class="o">-</span><span class="n">prefix</span><span class="o">-</span><span class="n">map</span><span class="o">=/</span><span class="n">build</span><span class="o">/</span><span class="n">r</span><span class="o">-</span><span class="n">base</span><span class="o">-</span><span class="mi">5</span><span class="n">iUtQS</span><span class="o">/</span><span class="n">r</span><span class="o">-</span><span class="n">base</span><span class="o">-</span><span class="mf">4.0</span><span class="o">.</span><span class="mi">2</span><span class="o">=.</span><span class="w"> </span><span class="o">-</span><span class="n">fstack</span><span class="o">-</span><span class="n">protector</span><span class="o">-</span><span class="n">strong</span><span class="w"> </span><span class="o">-</span><span class="n">Wformat</span><span class="w"> </span><span class="o">-</span><span class="n">Werror</span><span class="o">=</span><span class="n">format</span><span class="o">-</span><span class="n">security</span><span class="w"> </span><span class="o">-</span><span class="n">Wdate</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="o">-</span><span class="n">D_FORTIFY_SOURCE</span><span class="o">=</span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="n">g</span><span class="w">  </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">init</span><span class="o">.</span><span class="n">c</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">init</span><span class="o">.</span><span class="n">o</span>
<span class="n">In</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">init</span><span class="o">.</span><span class="n">c</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">0</span><span class="p">:</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">R</span><span class="o">.</span><span class="n">h</span><span class="p">:</span><span class="mi">55</span><span class="p">:</span><span class="mi">11</span><span class="p">:</span><span class="w"> </span><span class="n">fatal</span><span class="w"> </span><span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="n">stdlib</span><span class="o">.</span><span class="n">h</span><span class="p">:</span><span class="w"> </span><span class="n">No</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">directory</span>
<span class="w"> </span><span class="c1"># include &lt;stdlib.h&gt; /* Not used by R itself, but widely assumed in packages */</span>
<span class="w">           </span><span class="o">^~~~~~~~~~</span>
<span class="n">compilation</span><span class="w"> </span><span class="n">terminated</span><span class="o">.</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">Makeconf</span><span class="p">:</span><span class="mi">167</span><span class="p">:</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="s1">&#39;init.o&#39;</span><span class="w"> </span><span class="n">failed</span>
<span class="n">make</span><span class="p">:</span><span class="w"> </span><span class="o">***</span><span class="w"> </span><span class="p">[</span><span class="n">init</span><span class="o">.</span><span class="n">o</span><span class="p">]</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="mi">1</span>
<span class="n">ERROR</span><span class="p">:</span><span class="w"> </span><span class="n">compilation</span><span class="w"> </span><span class="n">failed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">mime</span><span class="err">’</span>
<span class="o">*</span><span class="w"> </span><span class="n">removing</span><span class="w"> </span><span class="err">‘</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">zhangfeng</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">pc</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">-</span><span class="n">library</span><span class="o">/</span><span class="mf">4.0</span><span class="o">/</span><span class="n">mime</span><span class="err">’</span>
<span class="n">ERROR</span><span class="p">:</span><span class="w"> </span><span class="n">dependency</span><span class="w"> </span><span class="err">‘</span><span class="n">sys</span><span class="err">’</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">askpass</span><span class="err">’</span>
<span class="o">*</span><span class="w"> </span><span class="n">removing</span><span class="w"> </span><span class="err">‘</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">zhangfeng</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">pc</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">-</span><span class="n">library</span><span class="o">/</span><span class="mf">4.0</span><span class="o">/</span><span class="n">askpass</span><span class="err">’</span>
<span class="n">ERROR</span><span class="p">:</span><span class="w"> </span><span class="n">dependency</span><span class="w"> </span><span class="err">‘</span><span class="n">askpass</span><span class="err">’</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">openssl</span><span class="err">’</span>
<span class="o">*</span><span class="w"> </span><span class="n">removing</span><span class="w"> </span><span class="err">‘</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">zhangfeng</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">pc</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">-</span><span class="n">library</span><span class="o">/</span><span class="mf">4.0</span><span class="o">/</span><span class="n">openssl</span><span class="err">’</span>
<span class="n">ERROR</span><span class="p">:</span><span class="w"> </span><span class="n">dependencies</span><span class="w"> </span><span class="err">‘</span><span class="n">curl</span><span class="err">’</span><span class="p">,</span><span class="w"> </span><span class="err">‘</span><span class="n">jsonlite</span><span class="err">’</span><span class="p">,</span><span class="w"> </span><span class="err">‘</span><span class="n">mime</span><span class="err">’</span><span class="p">,</span><span class="w"> </span><span class="err">‘</span><span class="n">openssl</span><span class="err">’</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">httr</span><span class="err">’</span>
<span class="o">*</span><span class="w"> </span><span class="n">removing</span><span class="w"> </span><span class="err">‘</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">zhangfeng</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">pc</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">-</span><span class="n">library</span><span class="o">/</span><span class="mf">4.0</span><span class="o">/</span><span class="n">httr</span><span class="err">’</span>

<span class="n">The</span><span class="w"> </span><span class="n">downloaded</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">packages</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">in</span>
<span class="w">        </span><span class="err">‘</span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">RtmpG9wQX4</span><span class="o">/</span><span class="n">downloaded_packages</span><span class="err">’</span>
<span class="n">Warning</span><span class="w"> </span><span class="n">messages</span><span class="p">:</span>
<span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="n">In</span><span class="w"> </span><span class="n">install</span><span class="o">.</span><span class="n">packages</span><span class="p">(</span><span class="s2">&quot;httr&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">:</span>
<span class="w">  </span><span class="n">installation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">sys</span><span class="err">’</span><span class="w"> </span><span class="n">had</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">zero</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="n">status</span>
<span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="n">In</span><span class="w"> </span><span class="n">install</span><span class="o">.</span><span class="n">packages</span><span class="p">(</span><span class="s2">&quot;httr&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">:</span>
<span class="w">  </span><span class="n">installation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">curl</span><span class="err">’</span><span class="w"> </span><span class="n">had</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">zero</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="n">status</span>
<span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="n">In</span><span class="w"> </span><span class="n">install</span><span class="o">.</span><span class="n">packages</span><span class="p">(</span><span class="s2">&quot;httr&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">:</span>
<span class="w">  </span><span class="n">installation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">jsonlite</span><span class="err">’</span><span class="w"> </span><span class="n">had</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">zero</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="n">status</span>
<span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="n">In</span><span class="w"> </span><span class="n">install</span><span class="o">.</span><span class="n">packages</span><span class="p">(</span><span class="s2">&quot;httr&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">:</span>
<span class="w">  </span><span class="n">installation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">mime</span><span class="err">’</span><span class="w"> </span><span class="n">had</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">zero</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="n">status</span>
<span class="mi">5</span><span class="p">:</span><span class="w"> </span><span class="n">In</span><span class="w"> </span><span class="n">install</span><span class="o">.</span><span class="n">packages</span><span class="p">(</span><span class="s2">&quot;httr&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">:</span>
<span class="w">  </span><span class="n">installation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">askpass</span><span class="err">’</span><span class="w"> </span><span class="n">had</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">zero</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="n">status</span>
<span class="mi">6</span><span class="p">:</span><span class="w"> </span><span class="n">In</span><span class="w"> </span><span class="n">install</span><span class="o">.</span><span class="n">packages</span><span class="p">(</span><span class="s2">&quot;httr&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">:</span>
<span class="w">  </span><span class="n">installation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">openssl</span><span class="err">’</span><span class="w"> </span><span class="n">had</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">zero</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="n">status</span>
<span class="mi">7</span><span class="p">:</span><span class="w"> </span><span class="n">In</span><span class="w"> </span><span class="n">install</span><span class="o">.</span><span class="n">packages</span><span class="p">(</span><span class="s2">&quot;httr&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">:</span>
<span class="w">  </span><span class="n">installation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="err">‘</span><span class="n">httr</span><span class="err">’</span><span class="w"> </span><span class="n">had</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">zero</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="n">status</span>
</code></pre></div>

<p>仔细看错误信息，这应该是g++没有安装。<code>q()</code>关闭R交互窗口，返回bash。我们查看一下g++的情况：<code>g++ --version</code> 。bash会给出下面的信息<code>g++: command not found</code>。这说明g++是没安装的。<code>sudo apt-get install g++</code>安装起走，但是结果却出人意料：</p>
<div class="highlight"><pre><span></span><code><span class="nx">Reading</span><span class="w"> </span><span class="kn">package</span><span class="w"> </span><span class="nx">lists</span><span class="o">...</span><span class="w"> </span><span class="nx">Done</span>
<span class="nx">Building</span><span class="w"> </span><span class="nx">dependency</span><span class="w"> </span><span class="nx">tree</span>
<span class="nx">Reading</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="nx">information</span><span class="o">...</span><span class="w"> </span><span class="nx">Done</span>
<span class="nx">Some</span><span class="w"> </span><span class="nx">packages</span><span class="w"> </span><span class="nx">could</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">installed</span><span class="p">.</span><span class="w"> </span><span class="nx">This</span><span class="w"> </span><span class="nx">may</span><span class="w"> </span><span class="nx">mean</span><span class="w"> </span><span class="nx">that</span><span class="w"> </span><span class="nx">you</span><span class="w"> </span><span class="nx">have</span>
<span class="nx">requested</span><span class="w"> </span><span class="nx">an</span><span class="w"> </span><span class="nx">impossible</span><span class="w"> </span><span class="nx">situation</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nx">you</span><span class="w"> </span><span class="nx">are</span><span class="w"> </span><span class="nx">using</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">unstable</span>
<span class="nx">distribution</span><span class="w"> </span><span class="nx">that</span><span class="w"> </span><span class="nx">some</span><span class="w"> </span><span class="nx">required</span><span class="w"> </span><span class="nx">packages</span><span class="w"> </span><span class="nx">have</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="nx">yet</span><span class="w"> </span><span class="nx">been</span><span class="w"> </span><span class="nx">created</span>
<span class="k">or</span><span class="w"> </span><span class="nx">been</span><span class="w"> </span><span class="nx">moved</span><span class="w"> </span><span class="nx">out</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="nx">Incoming</span><span class="p">.</span>
<span class="nx">The</span><span class="w"> </span><span class="nx">following</span><span class="w"> </span><span class="nx">information</span><span class="w"> </span><span class="nx">may</span><span class="w"> </span><span class="nx">help</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">resolve</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">situation</span><span class="p">:</span>

<span class="nx">The</span><span class="w"> </span><span class="nx">following</span><span class="w"> </span><span class="nx">packages</span><span class="w"> </span><span class="nx">have</span><span class="w"> </span><span class="nx">unmet</span><span class="w"> </span><span class="nx">dependencies</span><span class="p">:</span>
<span class="w"> </span><span class="nx">g</span><span class="o">++</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nx">Depends</span><span class="p">:</span><span class="w"> </span><span class="nx">g</span><span class="o">++-</span><span class="mi">7</span><span class="w"> </span><span class="p">(</span><span class="o">&gt;=</span><span class="w"> </span><span class="m m-Double">7.4.0</span><span class="o">-</span><span class="mi">1</span><span class="o">~</span><span class="p">)</span><span class="w"> </span><span class="nx">but</span><span class="w"> </span><span class="nx">it</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="nx">going</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">installed</span>
<span class="nx">E</span><span class="p">:</span><span class="w"> </span><span class="nx">Unable</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">correct</span><span class="w"> </span><span class="nx">problems</span><span class="p">,</span><span class="w"> </span><span class="nx">you</span><span class="w"> </span><span class="nx">have</span><span class="w"> </span><span class="nx">held</span><span class="w"> </span><span class="nx">broken</span><span class="w"> </span><span class="nx">packages</span><span class="p">.</span>
</code></pre></div>

<p>这里就是踩坑的开始。在google上看了n多帖子，尝试了很多方法，发现都行不通。比如说安装build-essentials，更新软件什么的，都不行。具体可以看这个<a href="https://askubuntu.com/questions/223237/unable-to-correct-problems-you-have-held-broken-packages/1274779#1274779">帖子</a>，谈论的比较多。不过怎么尝试就是安装不了。后来无意中看<a href="https://blog.csdn.net/zhangjiahao14/article/details/80554616">CediOsman的博客</a>，里面谈到更换ubuntu的软件源时，得根据版本号来。由于我们安装的版本是<code>Ubuntu 20.04.1 LTS</code>，比较新。网上的ubuntu的软件源得修改一下才能用，不修改很多的软件都安装不了。因此可以按下面的步骤来安装：</p>
<ol>
<li>查看新版本信息</li>
</ol>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>lsb_release<span class="w"> </span>-a
No<span class="w"> </span>LSB<span class="w"> </span>modules<span class="w"> </span>are<span class="w"> </span>available.
Distributor<span class="w"> </span>ID:<span class="w"> </span>Ubuntu
Description:<span class="w">    </span>Ubuntu<span class="w"> </span><span class="m">20</span>.04.1<span class="w"> </span>LTS
Release:<span class="w">        </span><span class="m">20</span>.04
Codename:<span class="w">       </span>focal
</code></pre></div>

<p>这个codename也就是系统代号是很重要的。</p>
<ol>
<li>重新更换中科院的源</li>
</ol>
<p>由于网上很多软件源都是用于系统代号为<code>bionic</code>的ubuntu系统，所以这里一定要改成<code>focal</code>。打开sources.list，<code>sudo vim /etc/apt/sources.list</code>将原来的东西清空，把下面的源地址粘贴上去：</p>
<div class="highlight"><pre><span></span><code><span class="c"># 默认注释了源码仓库，如有需要可自行取消注释</span>
<span class="k">deb</span><span class="w"> </span><span class="s">https://mirrors.ustc.edu.cn/ubuntu/</span><span class="w"> </span><span class="kp">focal</span><span class="w"> </span><span class="kp">main</span><span class="w"> </span><span class="kp">restricted</span><span class="w"> </span><span class="kp">universe</span><span class="w"> </span><span class="kp">multiverse</span>
<span class="c"># deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse</span>
<span class="k">deb</span><span class="w"> </span><span class="s">https://mirrors.ustc.edu.cn/ubuntu/</span><span class="w"> </span><span class="kp">focal-updates</span><span class="w"> </span><span class="kp">main</span><span class="w"> </span><span class="kp">restricted</span><span class="w"> </span><span class="kp">universe</span><span class="w"> </span><span class="kp">multiverse</span>
<span class="c"># deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span>
<span class="k">deb</span><span class="w"> </span><span class="s">https://mirrors.ustc.edu.cn/ubuntu/</span><span class="w"> </span><span class="kp">focal-backports</span><span class="w"> </span><span class="kp">main</span><span class="w"> </span><span class="kp">restricted</span><span class="w"> </span><span class="kp">universe</span><span class="w"> </span><span class="kp">multiverse</span>
<span class="c"># deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span>
<span class="k">deb</span><span class="w"> </span><span class="s">https://mirrors.ustc.edu.cn/ubuntu/</span><span class="w"> </span><span class="kp">focal-security</span><span class="w"> </span><span class="kp">main</span><span class="w"> </span><span class="kp">restricted</span><span class="w"> </span><span class="kp">universe</span><span class="w"> </span><span class="kp">multiverse</span>
<span class="c"># deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span>
</code></pre></div>

<ol>
<li>更新ubuntu的源及相关软件</li>
</ol>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt-get<span class="w"> </span>update
sudo<span class="w"> </span>apt-get<span class="w"> </span>update
</code></pre></div>

<p>没有报错的话，证明软件源更新成功。</p>
<ol>
<li>安装g++</li>
</ol>
<div class="highlight"><pre><span></span><code>sudo apt-get install g++
sudo apt-get install r-base-dev #最好把这个安上，可以解决很多
</code></pre></div>

<p>看到ｇ++软件没有报错，安装成功，瞬间就觉得前面的折腾值了。</p>
<ol>
<li>安装R软件包</li>
</ol>
<p>直接<code>install.packages("httr")</code>安装httr也会报错，除了<code>g++</code>还需要安装一些底层库。不过由于<code>g++</code>这最基本的编译器已经安装好，后面就很简单，就是几句代码的事。</p>
<div class="highlight"><pre><span></span><code><span class="c1">#curl是httr的依赖库，不安装libcurl4-openssl-dev也会报错。</span>
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>libcurl4-openssl-dev<span class="w"> </span>
<span class="c1"># openssl也是httr依赖库，不安装libcurl4-openssl-dev也会报错。</span>
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w">  </span>libssl-dev
</code></pre></div>

<p>然后进入R交互窗口安装<code>httr</code>包，直接<code>install.packages("httr")</code>安装。看到下面的信息表示已经成功安装。</p>
<div class="highlight"><pre><span></span><code><span class="o">***</span><span class="w"> </span><span class="n">installing</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="n">indices</span>
<span class="o">**</span><span class="w"> </span><span class="n">building</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">indices</span>
<span class="o">**</span><span class="w"> </span><span class="n">installing</span><span class="w"> </span><span class="n">vignettes</span>
<span class="o">**</span><span class="w"> </span><span class="n">testing</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">installed</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">loaded</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">temporary</span><span class="w"> </span><span class="n">location</span>
<span class="o">**</span><span class="w"> </span><span class="n">testing</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">installed</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">loaded</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">final</span><span class="w"> </span><span class="n">location</span>
<span class="o">**</span><span class="w"> </span><span class="n">testing</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">installed</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">keeps</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">temporary</span><span class="w"> </span><span class="n">installation</span><span class="w"> </span><span class="n">path</span>
<span class="o">*</span><span class="w"> </span><span class="n">DONE</span><span class="w"> </span><span class="p">(</span><span class="n">httr</span><span class="p">)</span>

<span class="n">The</span><span class="w"> </span><span class="n">downloaded</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">packages</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">in</span>
<span class="w">        </span><span class="err">‘</span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">Rtmp993tUS</span><span class="o">/</span><span class="n">downloaded_packages</span><span class="err">’</span>
</code></pre></div>

<p>Finally，搞定WSL的基本配置，可以愉快地使用<code>bash</code>了。</p>


             
 
            
            
            






            <hr/>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2020-09-15T00:00:00+02:00">9月 15, 2020</time>
            <h4>Category</h4>
            <a class="category-link" href="/zh/categories.html#wsl-ref">wsl</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="/zh/{lang}/tags.html#an-zhuang-ref">"安装"]
                    <span>2</span>
</a></li>
                <li><a href="/zh/{lang}/tags.html#g-install-ref">"g++ install"
                    <span>2</span>
</a></li>
                <li><a href="/zh/{lang}/tags.html#ubuntu-ref">"ubuntu"
                    <span>2</span>
</a></li>
                <li><a href="/zh/{lang}/tags.html#win10-ref">["win10"
                    <span>2</span>
</a></li>
            </ul>
<h4>Contact</h4>
<div id="sidebar-social-link">
</div>
            





            





        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>